<!-- formation-form.component.html -->
<div class="p-fluid">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="grid">
      <!-- First Row -->
      <div class="col-12 md:col-6">
        <label for="numValidation">N° Validation</label>
        <input id="numValidation" type="text" pInputText formControlName="numValidation" class="w-full" />
      </div>

      <div class="col-12 md:col-6">
        <label for="dateValidation">Date de validation*</label>
        <p-calendar id="dateValidation" formControlName="dateValidation"
                    [showIcon]="true" dateFormat="dd/mm/yy" appendTo="body" class="w-full"></p-calendar>
        <small *ngIf="form.get('dateValidation')?.invalid && form.get('dateValidation')?.touched"
               class="p-error">La date de validation est obligatoire</small>
      </div>

      <!-- Second Row -->
      <div class="col-12 md:col-6">
        <label for="animateur1">Animateur 1</label>
        <input id="animateur1" type="text" pInputText formControlName="animateur1" class="w-full" />
      </div>

      <div class="col-12 md:col-6">
        <label for="animateur2">Animateur 2</label>
        <input id="animateur2" type="text" pInputText formControlName="animateur2" class="w-full" />
      </div>

      <!-- Third Row -->
      <div class="col-12 md:col-6">
        <label for="dateDebut">Date de début*</label>
        <p-calendar id="dateDebut" formControlName="dateDebut"
                    [showIcon]="true" dateFormat="dd/mm/yy" appendTo="body" class="w-full"></p-calendar>
        <small *ngIf="form.get('dateDebut')?.invalid && form.get('dateDebut')?.touched"
               class="p-error">La date de début est obligatoire</small>
      </div>

      <div class="col-12 md:col-6">
        <label for="dateFin">Date de fin*</label>
        <p-calendar id="dateFin" formControlName="dateFin"
                    [showIcon]="true" dateFormat="dd/mm/yy" appendTo="body" class="w-full"></p-calendar>
        <small *ngIf="form.get('dateFin')?.invalid && form.get('dateFin')?.touched"
               class="p-error">La date de fin est obligatoire</small>
      </div>

      <!-- Fourth Row - Radio Group -->
      <div class="col-12 md:col-6">
        <label>Type*</label>
        <div class="flex align-items-center gap-3 mt-2">
          <p-radioButton inputId="chefCentre" formControlName="isChefCentre" [value]="true" label="Chef centre"></p-radioButton>
          <p-radioButton inputId="agentVisiteur" formControlName="isChefCentre" [value]="false" label="Agent visiteur"></p-radioButton>
        </div>
      </div>

      <!-- Fifth Row - Conditional Select -->
      <div class="col-12 md:col-6" *ngIf="form.get('isChefCentre')?.value">
        <label for="chefCentreId">Chef centre*</label>
        <p-dropdown id="chefCentreId" [options]="chefCentres" formControlName="chefCentreId"
                appendTo="body" optionLabel="values" optionValue="key" placeholder="Sélectionner un chef centre" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('chefCentreId')?.invalid && form.get('chefCentreId')?.touched"
               class="p-error">Le chef centre est obligatoire</small>
      </div>

      <div class="col-12 md:col-6" *ngIf="!form.get('isChefCentre')?.value">
        <label for="agentVisiteurId">Agent visiteur*</label>
        <p-dropdown id="agentVisiteurId" [options]="agentVisiteurs" formControlName="agentVisiteurId"
                 appendTo="body" optionLabel="values" optionValue="key" placeholder="Sélectionner un agent visiteur" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('agentVisiteurId')?.invalid && form.get('agentVisiteurId')?.touched"
               class="p-error">L’agent visiteur est obligatoire</small>
      </div>

      <!-- Sixth Row -->
      <div class="col-12 md:col-6">
        <label for="formationTypeId">Type de formation*</label>
        <p-dropdown id="formationTypeId" [options]="formationTypes" formControlName="formationTypeId"
                   appendTo="body" optionLabel="values" optionValue="key" placeholder="Sélectionner un type" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('formationTypeId')?.invalid && form.get('formationTypeId')?.touched"
               class="p-error">Le type de formation est obligatoire</small>
      </div>

      <!-- Seventh Row - Checkbox -->
      <div class="col-12 md:col-6 flex align-items-center gap-2 mt-3">
        <label for="resultat" class="mb-0">Est valide</label>
        <p-checkbox id="resultat" [binary]="true" formControlName="resultat"></p-checkbox>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-content-end gap-2 mt-4">
      <button pButton type="button" label="Annuler" icon="pi pi-times" class="p-button-text"
              (click)="onCancel()"></button>
      <button pButton type="submit" label="Enregistrer" icon="pi pi-check" class="p-button-primary"
              [disabled]="form.invalid || loading"></button>
    </div>
  </form>
</div>
