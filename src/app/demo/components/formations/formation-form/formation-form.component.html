<!-- formation-form.component.html -->
<div class="p-fluid">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="p-grid p-formgrid">
      <!-- First Row -->
      <div class="p-field p-col-12 p-md-6">
        <label for="numValidation">Num Validation</label>
        <input id="numValidation" type="text" pInputText formControlName="numValidation" class="w-full">
      </div>

      <div class="p-field p-col-12 p-md-6">
        <label for="dateValidation">Date Validation*</label>
        <p-calendar id="dateValidation" formControlName="dateValidation" 
                   [showIcon]="true" dateFormat="dd/mm/yy" class="w-full" appendTo="body"></p-calendar>
        <small *ngIf="form.get('dateValidation')?.invalid && form.get('dateValidation')?.touched" 
               class="p-error">Date Validation is required</small>
      </div>

      <!-- Second Row -->
      <div class="p-field p-col-12 p-md-6">
        <label for="animateur1">Animateur 1</label>
        <input id="animateur1" type="text" pInputText formControlName="animateur1" class="w-full">
      </div>

      <div class="p-field p-col-12 p-md-6">
        <label for="animateur2">Animateur 2</label>
        <input id="animateur2" type="text" pInputText formControlName="animateur2" class="w-full">
      </div>

      <!-- Third Row -->
      <div class="p-field p-col-12 p-md-6">
        <label for="dateDebut">Date Debut*</label>
        <p-calendar id="dateDebut" formControlName="dateDebut" 
                   [showIcon]="true" dateFormat="dd/mm/yy" class="w-full" appendTo="body"></p-calendar>
        <small *ngIf="form.get('dateDebut')?.invalid && form.get('dateDebut')?.touched" 
               class="p-error">Date Debut is required</small>
      </div>

      <div class="p-field p-col-12 p-md-6">
        <label for="dateFin">Date Fin*</label>
        <p-calendar id="dateFin" formControlName="dateFin" 
                   [showIcon]="true" dateFormat="dd/mm/yy" class="w-full" appendTo="body"></p-calendar>
        <small *ngIf="form.get('dateFin')?.invalid && form.get('dateFin')?.touched" 
               class="p-error">Date Fin is required</small>
      </div>

      <!-- Fourth Row - Radio Group -->
      <div class="p-field p-col-12 p-md-6">
        <label>Type*</label>
        <div class="p-d-flex p-ai-center">
          <p-radioButton name="formationType" [value]="true" [(ngModel)]="isChefCentre" 
                        (onClick)="toggleFormationType()" label="Chef centre"></p-radioButton>
          <p-radioButton name="formationType" [value]="false" [(ngModel)]="isChefCentre" 
                        (onClick)="toggleFormationType()" label="Agent Visiteur" class="p-ml-3"></p-radioButton>
        </div>
      </div>

      <!-- Fifth Row - Conditional Select -->
      <div class="p-field p-col-12 p-md-6" *ngIf="isChefCentre">
        <label for="chefCentreId">Chef centre*</label>
        <p-dropdown id="chefCentreId" [options]="chefCentres" formControlName="chefCentreId"
                   optionLabel="values" optionValue="key" placeholder="Select Chef centre" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('chefCentreId')?.invalid && form.get('chefCentreId')?.touched" 
               class="p-error">Chef centre is required</small>
      </div>

      <div class="p-field p-col-12 p-md-6" *ngIf="!isChefCentre">
        <label for="agentVisiteurId">Agent Visiteur*</label>
        <p-dropdown id="agentVisiteurId" [options]="agentVisiteurs" formControlName="agentVisiteurId"
                   optionLabel="values" optionValue="key" placeholder="Select Agent Visiteur" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('agentVisiteurId')?.invalid && form.get('agentVisiteurId')?.touched" 
               class="p-error">Agent Visiteur is required</small>
      </div>

      <!-- Sixth Row -->
      <div class="p-field p-col-12 p-md-6">
        <label for="formationTypeId">Type Formation*</label>
        <p-dropdown id="formationTypeId" [options]="formationTypes" formControlName="formationTypeId"
                   optionLabel="values" optionValue="key" placeholder="Select Formation Type" class="w-full">
        </p-dropdown>
        <small *ngIf="form.get('formationTypeId')?.invalid && form.get('formationTypeId')?.touched" 
               class="p-error">Formation Type is required</small>
      </div>

      <!-- Seventh Row - Checkbox -->
      <div class="p-field p-col-12 p-md-6">
        <label for="resultat">Est valide</label>
        <p-checkbox id="resultat" [binary]="true" formControlName="resultat"></p-checkbox>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="p-d-flex p-jc-end p-mt-4">
      <button pButton type="button" label="Cancel" icon="pi pi-times" class="p-button-text" 
              (click)="onCancel()"></button>
      <button pButton type="submit" label="Save" icon="pi pi-check" class="p-button-primary p-ml-2" 
              [disabled]="form.invalid || loading"></button>
    </div>
  </form>
</div>