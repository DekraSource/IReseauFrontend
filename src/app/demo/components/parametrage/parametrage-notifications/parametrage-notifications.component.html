<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>


<div class="card">
<p-toolbar class="mb-2">
<div class="p-toolbar-group-start">
<button pButton type="button" label="New" icon="pi pi-plus" (click)="openNew()"></button>
</div>
</p-toolbar>


<p-table [value]="items" [paginator]="true" [rows]="10" [loading]="loading">
<ng-template pTemplate="header">
<tr>
<th>Id</th>
<th>Delai</th>
<th>Email To</th>
<th>Object</th>
<th>Date Creation</th>
<th>Actions</th>
</tr>
</ng-template>
<ng-template pTemplate="body" let-item>
<tr>
<td>{{item.id}}</td>
<td>{{item.delai}}</td>
<td>{{item.emailTo}}</td>
<td>{{item.object}}</td>
<td>{{item.dateCreation | date:'short'}}</td>
<td>
<button pButton type="button" icon="pi pi-pencil" class="p-button-rounded p-button-text" (click)="edit(item)"></button>
<button pButton type="button" icon="pi pi-trash" class="p-button-rounded p-button-text" (click)="confirmDelete(item)"></button>
</td>
</tr>
</ng-template>
</p-table>
</div>


<p-dialog header="Notification" [(visible)]="dialogVisible" [modal]="true" [style]="{width: '600px'}">
<div class="card p-4">
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="p-fluid grid">

      <div class="field col-12 md:col-6">
        <label for="delai">Delai (jours)</label>
        <input id="delai" type="number" pInputText formControlName="delai" />
      </div>

      <div class="field col-12 md:col-6">
        <label for="notificationDeclencherId">Notification Declencher</label>
        <input id="notificationDeclencherId" type="number" pInputText formControlName="notificationDeclencherId" />
      </div>

      <div class="field col-12">
        <label for="emailTo">Email To</label>
        <input id="emailTo" type="email" pInputText formControlName="emailTo" />
      </div>

      <div class="field col-12">
        <label for="object">Object</label>
        <input id="object" type="text" pInputText formControlName="object" />
      </div>

      <div class="field col-12">
        <label for="body">Message Body</label>
        <!-- ðŸ”¹ Rich Text Editor -->
        <p-editor [innerHTML]=""  [style]="{height:'300px'}"></p-editor>
      </div>

    </div>

    <div class="mt-3">
      <button pButton type="submit" label="Save" class="p-button-success"></button>
    </div>
  </form>
</div>

</p-dialog>